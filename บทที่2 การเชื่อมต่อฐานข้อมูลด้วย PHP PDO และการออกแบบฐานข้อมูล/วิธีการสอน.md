## แนวคิดการสอน
การสอนจะใช้แนวทาง **ปฏิบัติควบคู่ทฤษฎี** โดยแบ่งเป็น 5 ขั้นตอน
1. **แนะนำแนวคิด** อธิบายฐานข้อมูลเชิงสัมพันธ์, Entity, Attribute, และ Relationship
2. **ออกแบบฐานข้อมูล** นำนักเรียนสร้าง ER Diagram และ SQL สำหรับฐานข้อมูล
3. **การเชื่อมต่อ PDO** สอนการใช้ PDO และการจัดการ Exception
4. **พัฒนา API** แบ่งกลุ่มพัฒนา Endpoint สำหรับแต่ละตาราง
5. **ทดสอบและแก้ไข** ใช้ Thunder Client ทดสอบ API และดีบักข้อผิดพลาด

### โครงสร้างการสอน
- **ระยะเวลา** 6 ชั่วโมง (แบ่งเป็น 3 ครั้ง ครั้งละ 2 ชั่วโมง)
- **เครื่องมือ**
  - XAMPP (PHP 8.2, Apache, MySQL)
  - Visual Studio Code (ติดตั้งส่วนขยาย PHP Intelephense, Thunder Client)
  - phpMyAdmin
- **ผลลัพธ์ที่คาดหวัง**
  - นักเรียนเข้าใจการออกแบบฐานข้อมูลและความสัมพันธ์
  - สร้าง API CRUD สำหรับตารางทั้ง 5 ได้
  - ทดสอบ API และจัดการข้อผิดพลาดได้

## การสอนในชั้นเรียน

### ครั้งที่ 1 แนวคิดและการออกแบบฐานข้อมูล (2 ชั่วโมง)
1. **แนะนำแนวคิด** (30 นาที)
   - อธิบายฐานข้อมูลเชิงสัมพันธ์, Entity, Attribute, Relationship
   - แสดงตัวอย่างตาราง `users`, `products`, และความสัมพันธ์
2. **สร้าง ER Diagram** (30 นาที):
   - ให้นักเรียนวาด ER Diagram สำหรับระบบอีคอมเมิร์ซบนกระดานหรือเครื่องมือออนไลน์ (เช่น draw.io)
   - อธิบายความสัมพันธ์ One-to-Many และ Many-to-One
3. **เขียน SQL** (60 นาที):
   - สอนการใช้ phpMyAdmin สร้างฐานข้อมูล `api_db`
   - ให้นักเรียนรันคำสั่ง SQL เพื่อสร้างตารางและเพิ่มข้อมูลตัวอย่าง
   - ตรวจสอบข้อมูลใน phpMyAdmin

### ครั้งที่ 2: การเชื่อมต่อ PDO และพัฒนา API (2 ชั่วโมง)
1. **แนะนำ PDO** (30 นาที):
   - อธิบาย PDO และข้อดี (เช่น ความปลอดภัยจาก SQL Injection)
   - สอนการเขียน `config.php` และการจัดการ Exception
2. **พัฒนา API สำหรับ `users`** (60 นาที):
   - แบ่งกลุ่มพัฒนา Endpoint ใน `users.php` (GET, POST, PUT, POST /login)
   - สอนการใช้ `bindParam` และ `password_hash`
   - ทดสอบ Endpoint ด้วย Thunder Client
3. **มอบหมายงาน** (30 นาที):
   - ให้นักเรียนพัฒนา `products.php` และ `categories.php` คล้ายกับ `users.php`

### ครั้งที่ 3: พัฒนา API และทดสอบ (2 ชั่วโมง)
1. **พัฒนา API สำหรับ `orders` และ `order_items`** (60 นาที):
   - อธิบายการจัดการ Endpoint nested (เช่น `/api/orders/{id}/items`)
   - ช่วยนักเรียนเขียน `orders.php` และ `order_items.php`
2. **ทดสอบและดีบัก** (60 นาที):
   - ให้นักเรียนทดสอบ Endpoint ทุกตัวด้วย Thunder Client
   - สอนการดู log (`F:\xampp\php\logs\php_error_log`) และแก้ข้อผิดพลาด
   - อภิปรายผลลัพธ์และการปรับปรุง
   
   
## แบบฝึกหัด
1. **ออกแบบ ER Diagram**:
   - สร้าง ER Diagram สำหรับระบบที่มีตารางเพิ่มเติม เช่น `addresses`
2. **เขียน SQL**:
   - เขียน SQL สำหรับตาราง `categories` และเพิ่มข้อมูล 3 รายการ
3. **พัฒนา API**:
   - เพิ่ม DELETE endpoint ใน `users.php`
   - สร้าง endpoint `GET /api/products?category_id={id}` เพื่อกรองสินค้าตามหมวดหมู่
4. **เติมโค้ด**:
   ```php
   $sql = "SELECT * FROM _____ WHERE id = :id";
   $stmt = $conn->____($sql);
   $stmt->bindParam(':id', $id, PDO::_____);
   $stmt->execute();
   ```
